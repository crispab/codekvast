// --- Integration test stuff -------------------------------------------------------------------------------

testSets {
    integrationTest
}

dependencies {
    integrationTestImplementation 'org.springframework.amqp:spring-rabbit'
    integrationTestImplementation "org.testcontainers:mariadb:$testcontainersVersion"
    integrationTestImplementation "org.testcontainers:rabbitmq:$testcontainersVersion"
    integrationTestImplementation 'org.apache.commons:commons-lang3:3.11'
}

integrationTest {
    doFirst {
        mkdir "$buildDir/log"
    }
}

integrationTest.mustRunAfter test
check.dependsOn integrationTest
