codekvast:
    environment: "{{ ec2_tag_Env }}"

logging:
    file: "/var/log/codekvast/{{ service_name }}/application.log"
    file.max-size: '10MB'
    file.max-history: 10
    level:
        io.codekvast: DEBUG
        io.micrometer.datadog.DatadogMeterRegistry: OFF

management:
    server.port: "{{ management_port }}"
    endpoint:
        beans.enabled: false
        conditions.enabled: false
        mappings.enabled: false
    metrics.export.datadog:
        api-key: "{{ datadog_api_key }}"
        enabled: true
        step: PT60S

server:
    port: "{{ service_port }}"
    servlet.session.cookie.name: "{{ settings.session.cookie.name }}"
    undertow.accesslog:
        dir: /var/log/codekvast//{{ service_name }}/
        prefix: access.

spring:
    mail:
        username: "{{ spring.mail.username }}"
        password: "{{ spring.mail.password }}"
        test-connection: true
    boot.admin:
        notify:
            mail:
                enabled: true
                test-connection: true
                from: "Codekvast Admin [{{ env }}] <noreply@localhost>"
                subject: "[{{ env }}] #{application.name} (#{application.id}) is #{to.status}"
            slack:
                enabled: true
                webhook-url: 'https://hooks.slack.com/services/{{ codekvast_slackWebhookToken }}'
                channel: alarms
                message: "[{{ env }}] *#{application.name}* (#{application.id}) is *#{to.status}*"
        ui:
            title: "Codekvast Admin {{ codekvastVersion }} [{{ env }}]"
