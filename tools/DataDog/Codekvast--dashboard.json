{
  "title": "Codekvast",
  "description": "",
  "widgets": [
    {
      "id": 689902583462500,
      "definition": {
        "type": "group",
        "layout_type": "ordered",
        "widgets": [
          {
            "id": 3936734938894704,
            "definition": {
              "type": "timeseries",
              "requests": [
                {
                  "q": "sum:aws.rds.database_connections{$env}",
                  "display_type": "line",
                  "style": {
                    "palette": "dog_classic",
                    "line_type": "solid",
                    "line_width": "normal"
                  }
                }
              ],
              "yaxis": {
                "label": "",
                "scale": "linear",
                "min": "auto",
                "max": "auto",
                "include_zero": true
              },
              "title": "RDS connections",
              "show_legend": false,
              "legend_size": "0"
            }
          },
          {
            "id": 2292658028897524,
            "definition": {
              "type": "timeseries",
              "requests": [
                {
                  "q": "avg:hikaricp.connections.active{$env,$service} by {host}",
                  "display_type": "line",
                  "style": {
                    "palette": "dog_classic",
                    "line_type": "solid",
                    "line_width": "normal"
                  }
                }
              ],
              "yaxis": {
                "label": "",
                "scale": "linear",
                "min": "auto",
                "max": "auto",
                "include_zero": true
              },
              "title": "Active JDBC connections",
              "show_legend": false,
              "legend_size": "0"
            }
          },
          {
            "id": 897477154347450,
            "definition": {
              "type": "timeseries",
              "requests": [
                {
                  "q": "sum:codekvast.lock.failed{$env} by {lock}",
                  "display_type": "bars",
                  "style": {
                    "palette": "dog_classic",
                    "line_type": "solid",
                    "line_width": "normal"
                  }
                }
              ],
              "yaxis": {
                "label": "",
                "scale": "linear",
                "min": "auto",
                "max": "auto",
                "include_zero": true
              },
              "title": "Codekvast lock failures",
              "show_legend": false,
              "legend_size": "0"
            }
          }
        ],
        "title": "Database"
      }
    },
    {
      "id": 7786470038000914,
      "definition": {
        "type": "group",
        "layout_type": "ordered",
        "widgets": [
          {
            "id": 357806738,
            "definition": {
              "type": "timeseries",
              "requests": [
                {
                  "q": "sum:http.server.requests.count{$env} by {uri,status}",
                  "display_type": "line",
                  "style": {
                    "palette": "dog_classic",
                    "line_type": "solid",
                    "line_width": "normal"
                  }
                }
              ],
              "yaxis": {
                "label": "",
                "scale": "linear",
                "min": "auto",
                "max": "auto",
                "include_zero": true
              },
              "title": "HTTP requests",
              "time": {}
            }
          },
          {
            "id": 357806648,
            "definition": {
              "type": "timeseries",
              "requests": [
                {
                  "q": "sum:codekvast.publication.accepted{$env} by {type}",
                  "display_type": "line",
                  "style": {
                    "palette": "dog_classic",
                    "line_type": "solid",
                    "line_width": "normal"
                  }
                }
              ],
              "yaxis": {
                "label": "",
                "scale": "linear",
                "min": "auto",
                "max": "auto",
                "include_zero": true
              },
              "events": [
                {
                  "q": "Started",
                  "tags_execution": "and"
                }
              ],
              "title": "Accepted publications",
              "show_legend": false,
              "legend_size": "0"
            }
          },
          {
            "id": 7940024245738866,
            "definition": {
              "type": "timeseries",
              "requests": [
                {
                  "q": "avg:codekvast.event_consumed.duration.millis.avg{*}",
                  "display_type": "line",
                  "style": {
                    "palette": "dog_classic",
                    "line_type": "solid",
                    "line_width": "normal"
                  }
                }
              ],
              "yaxis": {
                "label": "",
                "scale": "linear",
                "min": "auto",
                "max": "auto",
                "include_zero": true
              },
              "title": "Event processing time (ms)",
              "show_legend": false,
              "legend_size": "0"
            }
          },
          {
            "id": 357824455,
            "definition": {
              "type": "timeseries",
              "requests": [
                {
                  "q": "avg:codekvast.login.count{$env} by {source}",
                  "display_type": "bars",
                  "style": {
                    "palette": "dog_classic",
                    "line_type": "solid",
                    "line_width": "normal"
                  }
                }
              ],
              "yaxis": {
                "label": "",
                "scale": "linear",
                "min": "auto",
                "max": "auto",
                "include_zero": true
              },
              "title": "Codekvast logins",
              "show_legend": false,
              "legend_size": "0"
            }
          },
          {
            "id": 361982116,
            "definition": {
              "type": "timeseries",
              "requests": [
                {
                  "q": "sum:logback.events{$env,level:error} by {service}",
                  "display_type": "line",
                  "style": {
                    "palette": "warm",
                    "line_type": "solid",
                    "line_width": "normal"
                  }
                },
                {
                  "q": "sum:logback.events{level:warn,$env} by {service}",
                  "display_type": "line",
                  "style": {
                    "palette": "grey",
                    "line_type": "dashed",
                    "line_width": "normal"
                  }
                }
              ],
              "yaxis": {
                "label": "",
                "scale": "linear",
                "min": "auto",
                "max": "auto",
                "include_zero": true
              },
              "title": "Logged errors and warnings",
              "show_legend": false,
              "legend_size": "0"
            }
          }
        ],
        "title": "Codekvast"
      }
    },
    {
      "id": 7440645918748430,
      "definition": {
        "type": "group",
        "layout_type": "ordered",
        "widgets": [
          {
            "id": 361934539,
            "definition": {
              "type": "timeseries",
              "requests": [
                {
                  "q": "max:aws.ecs.service.cpuutilization{$env} by {servicename}",
                  "display_type": "line",
                  "style": {
                    "palette": "dog_classic",
                    "line_type": "solid",
                    "line_width": "normal"
                  }
                }
              ],
              "yaxis": {
                "label": "",
                "scale": "linear",
                "min": "auto",
                "max": "auto",
                "include_zero": true
              },
              "title": "ECS CPU utilization %",
              "show_legend": false,
              "legend_size": "0"
            }
          },
          {
            "id": 361924868,
            "definition": {
              "type": "timeseries",
              "requests": [
                {
                  "q": "avg:ecs.fargate.mem.usage{*} by {task_family}",
                  "display_type": "line",
                  "style": {
                    "palette": "dog_classic",
                    "line_type": "solid",
                    "line_width": "normal"
                  }
                },
                {
                  "q": "avg:ecs.fargate.mem.pgfault{*} by {task_family}",
                  "display_type": "line",
                  "style": {
                    "palette": "dog_classic",
                    "line_type": "solid",
                    "line_width": "normal"
                  }
                }
              ],
              "yaxis": {
                "label": "",
                "scale": "linear",
                "min": "auto",
                "max": "auto",
                "include_zero": true
              },
              "title": "ECS memory",
              "show_legend": false,
              "legend_size": "0"
            }
          },
          {
            "id": 4112987148610942,
            "definition": {
              "type": "timeseries",
              "requests": [
                {
                  "q": "avg:jvm.memory.used{*} by {service}",
                  "display_type": "line",
                  "style": {
                    "palette": "dog_classic",
                    "line_type": "solid",
                    "line_width": "normal"
                  }
                }
              ],
              "yaxis": {
                "label": "",
                "scale": "linear",
                "min": "auto",
                "max": "auto",
                "include_zero": true
              },
              "title": "JVM memory used MB",
              "show_legend": false,
              "legend_size": "0"
            }
          },
          {
            "id": 361924560,
            "definition": {
              "type": "timeseries",
              "requests": [
                {
                  "q": "avg:jvm.gc.pause.sum{$env} by {service}",
                  "display_type": "area",
                  "style": {
                    "palette": "dog_classic",
                    "line_type": "solid",
                    "line_width": "normal"
                  }
                }
              ],
              "yaxis": {
                "scale": "linear"
              },
              "markers": [
                {
                  "value": "y = 500",
                  "display_type": "info dashed",
                  "label": "y = 500"
                }
              ],
              "title": "JVM GC pauses",
              "show_legend": false,
              "legend_size": "0"
            }
          }
        ],
        "title": "Resources"
      }
    },
    {
      "id": 3180070761901734,
      "definition": {
        "type": "group",
        "layout_type": "ordered",
        "widgets": [
          {
            "id": 5198402760518996,
            "definition": {
              "type": "timeseries",
              "requests": [
                {
                  "q": "sum:aws.ecs.service.running{$env} by {service}",
                  "display_type": "line",
                  "style": {
                    "palette": "warm",
                    "line_type": "solid",
                    "line_width": "normal"
                  }
                },
                {
                  "q": "sum:aws.ecs.service.pending{$env} by {service}",
                  "display_type": "line",
                  "style": {
                    "palette": "cool",
                    "line_type": "dashed",
                    "line_width": "normal"
                  }
                }
              ],
              "yaxis": {
                "label": "",
                "scale": "linear",
                "min": "auto",
                "max": "auto",
                "include_zero": true
              },
              "title": "ECS tasks",
              "show_legend": false,
              "legend_size": "0"
            }
          },
          {
            "id": 8936649037778896,
            "definition": {
              "type": "timeseries",
              "requests": [
                {
                  "q": "sum:codekvast.lifecycle{$env} by {event,service}.as_count()",
                  "display_type": "bars",
                  "style": {
                    "palette": "dog_classic",
                    "line_type": "solid",
                    "line_width": "normal"
                  }
                }
              ],
              "yaxis": {
                "label": "",
                "scale": "linear",
                "min": "auto",
                "max": "auto",
                "include_zero": true
              },
              "title": "Service lifecycle events",
              "show_legend": false,
              "legend_size": "0"
            }
          }
        ],
        "title": "Lifecycle"
      }
    }
  ],
  "template_variables": [
    {
      "name": "env",
      "default": "*",
      "prefix": "env"
    },
    {
      "name": "service",
      "default": "*",
      "prefix": "service"
    }
  ],
  "layout_type": "ordered",
  "is_read_only": false,
  "notify_list": [],
  "id": "twx-dkr-v5y"
}